(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{61:function(e,t,n){e.exports=n(76)},66:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(8),c=n.n(l),i=(n(66),n(18)),o=n.n(i),u=n(25),m=n(36),s=(n(68),n(121)),p=n(119),f=n(116),d=n(120),E=n(117),b=n(118),y=n(78),v=n(128),h=n(112),k=(n(69),n(126)),x=n(115);n(70);function g(e){var t=e.type,n=e.causeUpdate;function a(e){return r.a.createElement(h.a,{item:!0,xs:2},r.a.createElement(k.a,{name:e.id,id:e.id,label:e.label,variant:"outlined"}))}function l(e){return c.apply(this,arguments)}function c(){return(c=Object(u.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){return document.querySelector(e)},a={},"employee"!==t){e.next=13;break}if(a.fname=n("#fname").value,a.lname=n("#lname").value,a.afm=n("#afm").value,a.job=n("#job").value,!(r=n("#depId").value)){e.next=11;break}return e.next=11,fetch("/api/department/"+r).then((function(e){return e.json()})).then((function(e){a.department=e}),(function(e){return console.log(e)}));case 11:e.next=14;break;case 13:"department"===t&&(a.title=n("#title").value);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){var t=function(e){return document.querySelector(e)};"employee"===e?(t("#fname").value="",t("#fname-label").classList.remove("MuiInputLabel-shrink"),t("#lname").value="",t("#lname-label").classList.remove("MuiInputLabel-shrink"),t("#afm").value="",t("#afm-label").classList.remove("MuiInputLabel-shrink"),t("#job").value="",t("#job-label").classList.remove("MuiInputLabel-shrink"),t("#depId").value="",t("#depId-label").classList.remove("MuiInputLabel-shrink")):"department"===e&&(t("#title").value="",t("#title-label").classList.remove("MuiInputLabel-shrink"))}function m(){return(m=Object(u.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:a=e.sent,i(t),(r=new XMLHttpRequest).open("POST","/api/"+t,!0),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(a)),r.onloadend=n;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e){return r.a.createElement(h.a,{item:!0,xs:2},r.a.createElement(x.a,{onClick:function(){!function(e){m.apply(this,arguments)}(e.type)},variant:"contained"},e.content))}function p(e){return"department"===e.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(a,{id:"title",label:"Title"})):"employee"===e.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(a,{id:"fname",label:"First Name"}),r.a.createElement(a,{id:"lname",label:"Last Name"}),r.a.createElement(a,{id:"afm",label:"AFM"}),r.a.createElement(a,{id:"job",label:"Job"}),r.a.createElement(a,{id:"depId",label:"Department ID"})):void 0}return r.a.createElement("div",{className:"Form"},r.a.createElement("form",{id:t,noValidate:!0,autoComplete:"off"},r.a.createElement("p",null,e.text),r.a.createElement(h.a,{container:!0},r.a.createElement(p,{type:t}),r.a.createElement(s,{type:t,content:"SAVE"}))))}function w(e){var t=e.data,n=function(e){if(e[0]){var t=e[0];if(t.title)return"department";if(t.lname)return"employee"}return null}(t),a=function(e,t){var n=[];if(e[0]){var a=(n=Object.keys(e[0])).indexOf("id");-1!==a&&n.splice(a,1);var r=n.indexOf(u(t));-1!==r&&n.splice(r,1)}return n}(t,n),l=e.causeUpdate;function c(e){if(e)return"number"!==typeof e?e.charAt(0).toUpperCase()+e.slice(1):e}function i(e){return r.a.createElement(f.a,null,r.a.createElement(v.a,{fontWeight:"fontWeightBold"},c(e.content)))}function o(e){var t=e.keys,n=e.type;return"department"===n&&t.unshift("id"),r.a.createElement(E.a,null,r.a.createElement(b.a,null,r.a.createElement(i,{content:n}),t.map((function(e){return r.a.createElement(i,{content:e})}))))}function u(e){return"department"===e?"title":"employee"===e?"lname":void 0}function m(e){return"employee"===e.type?r.a.createElement(f.a,{component:"th",scope:"row"},c(e.entry.department.title)):null}function k(e){return r.a.createElement(h.a,{item:!0,xs:11,md:8},r.a.createElement(g,{causeUpdate:l,type:"department",text:"Add a new Department:"}),r.a.createElement(g,{causeUpdate:l,type:"employee",text:"Add a new Employee:"}))}function x(e){var t=e.type,n=e.keys,a=n.indexOf("department");return-1!==a&&n.splice(a,1),e.data.map?r.a.createElement(p.a,null,e.data.map((function(e){return r.a.createElement(b.a,{key:e[u(t)]},r.a.createElement(f.a,{component:"th",scope:"row"},c(e[u(t)])),n.map((function(t){return r.a.createElement(f.a,{align:"right"},c(e[t]))})),r.a.createElement(m,{type:t,entry:e}))}))):null}return r.a.createElement("div",{className:"DataTable"},r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(k,null),r.a.createElement("hr",null),r.a.createElement(h.a,{item:!0,xs:10,md:6},r.a.createElement("p",null,"Our Data Table for ",n+"s",":"),r.a.createElement(d.a,{component:y.a},r.a.createElement(s.a,{"aria-label":"simple table"},r.a.createElement(o,{type:n,keys:a}),r.a.createElement(x,{type:n,data:t,keys:a}))))))}function j(e){return r.a.createElement(v.a,{fontSize:30},r.a.createElement("h1",null,e.text))}var O=n(122),L=n(123),I=n(125),M=n(124),S=n(48),C=n.n(S),N=n(49),T=n.n(N),A=n(50),q=n.n(A);n(74);function D(e){return r.a.createElement("div",{className:"Navbar"},r.a.createElement(O.a,{position:"fixed"},r.a.createElement(L.a,null,r.a.createElement(M.a,{title:"Menu",edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(C.a,null)),r.a.createElement(I.a,{variant:"h6"},r.a.createElement("a",{title:"CompanyApp",href:"/"},"CompanyApp",r.a.createElement("sup",null,"TM"))),r.a.createElement("div",{className:"grow"}),r.a.createElement(M.a,{title:"Departments",edge:"end",onClick:function(){return e.setRequestType("department")},color:"inherit","aria-label":"menu"},r.a.createElement(T.a,null)),r.a.createElement(M.a,{title:"Employees",edge:"end",onClick:function(){return e.setRequestType("employee")},color:"inherit","aria-label":"menu"},r.a.createElement(q.a,null)))))}function U(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)("employee"),i=Object(m.a)(c,2),s=i[0],p=i[1],f=Object(a.useState)(!1),d=Object(m.a)(f,2),E=d[0],b=d[1];function y(){return(y=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/"+t+"s").then((function(e){return e.json()})).then((function(e){l(e),b(!1)}),(function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(e){y.apply(this,arguments)}(s)}),[s,E]),n?r.a.createElement("div",{className:"App"},r.a.createElement(D,{setRequestType:p}),r.a.createElement(j,{text:"Welcome to the Company Website"}),r.a.createElement(w,{causeUpdate:function(){b(!0)},data:n})):r.a.createElement("p",null,"Loading...")}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.fbb974c2.chunk.js.map